{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\nexports.__esModule = true;\nexports[\"default\"] = connect;\nvar DevOverlay = _interopRequireWildcard(require(\"@next/react-dev-overlay/lib/client\"));\nvar _stripAnsi = _interopRequireDefault(require(\"next/dist/compiled/strip-ansi\"));\nvar _eventsource = require(\"./eventsource\");\nvar _formatWebpackMessages = _interopRequireDefault(require(\"./format-webpack-messages\")); /**\n                                                                                           * MIT License\n                                                                                           *\n                                                                                           * Copyright (c) 2013-present, Facebook, Inc.\n                                                                                           *\n                                                                                           * Permission is hereby granted, free of charge, to any person obtaining a copy\n                                                                                           * of this software and associated documentation files (the \"Software\"), to deal\n                                                                                           * in the Software without restriction, including without limitation the rights\n                                                                                           * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n                                                                                           * copies of the Software, and to permit persons to whom the Software is\n                                                                                           * furnished to do so, subject to the following conditions:\n                                                                                           *\n                                                                                           * The above copyright notice and this permission notice shall be included in all\n                                                                                           * copies or substantial portions of the Software.\n                                                                                           *\n                                                                                           * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n                                                                                           * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n                                                                                           * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n                                                                                           * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n                                                                                           * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n                                                                                           * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n                                                                                           * SOFTWARE.\n                                                                                           */ // This file is a modified version of the Create React App HMR dev client that\n// can be found here:\n// https://github.com/facebook/create-react-app/blob/v3.4.1/packages/react-dev-utils/webpackHotDevClient.js\n// This alternative WebpackDevServer combines the functionality of:\n// https://github.com/webpack/webpack-dev-server/blob/webpack-1/client/index.js\n// https://github.com/webpack/webpack/blob/webpack-1/hot/dev-server.js\n// It only supports their simplest configuration (hot updates on same server).\n// It makes some opinionated choices on top, like adding a syntax error overlay\n// that looks similar to our console output. The error overlay is inspired by:\n// https://github.com/glenjamin/webpack-hot-middleware\nvar hadRuntimeError = false;\nvar customHmrEventHandler;\nfunction connect(options) {\n  DevOverlay.register();\n  (0, _eventsource.getEventSourceWrapper)(options).addMessageListener(function (event) {\n    // This is the heartbeat event\n    if (event.data === \"\\uD83D\\uDC93\") {\n      return;\n    }\n    try {\n      processMessage(event);\n    } catch (ex) {\n      console.warn('Invalid HMR message: ' + event.data + '\\n' + ex);\n    }\n  });\n  return {\n    subscribeToHmrEvent: function subscribeToHmrEvent(handler) {\n      customHmrEventHandler = handler;\n    },\n    onUnrecoverableError: function onUnrecoverableError() {\n      hadRuntimeError = true;\n    }\n  };\n} // Remember some state related to hot module replacement.\nvar isFirstCompilation = true;\nvar mostRecentCompilationHash = null;\nvar hasCompileErrors = false;\nfunction clearOutdatedErrors() {\n  // Clean up outdated compile errors, if any.\n  if (typeof console !== 'undefined' && typeof console.clear === 'function') {\n    if (hasCompileErrors) {\n      console.clear();\n    }\n  }\n} // Successful compilation.\nfunction handleSuccess() {\n  clearOutdatedErrors();\n  var isHotUpdate = !isFirstCompilation;\n  isFirstCompilation = false;\n  hasCompileErrors = false; // Attempt to apply hot updates or reload.\n  if (isHotUpdate) {\n    tryApplyUpdates(function onSuccessfulHotUpdate(hasUpdates) {\n      // Only dismiss it when we're sure it's a hot update.\n      // Otherwise it would flicker right before the reload.\n      onFastRefresh(hasUpdates);\n    });\n  }\n} // Compilation with warnings (e.g. ESLint).\nfunction handleWarnings(warnings) {\n  clearOutdatedErrors();\n  var isHotUpdate = !isFirstCompilation;\n  isFirstCompilation = false;\n  hasCompileErrors = false;\n  function printWarnings() {\n    // Print warnings to the console.\n    var formatted = (0, _formatWebpackMessages[\"default\"])({\n      warnings: warnings,\n      errors: []\n    });\n    if (typeof console !== 'undefined' && typeof console.warn === 'function') {\n      for (var i = 0; i < formatted.warnings.length; i++) {\n        if (i === 5) {\n          console.warn('There were more warnings in other files.\\n' + 'You can find a complete log in the terminal.');\n          break;\n        }\n        console.warn((0, _stripAnsi[\"default\"])(formatted.warnings[i]));\n      }\n    }\n  }\n  printWarnings(); // Attempt to apply hot updates or reload.\n  if (isHotUpdate) {\n    tryApplyUpdates(function onSuccessfulHotUpdate(hasUpdates) {\n      // Only dismiss it when we're sure it's a hot update.\n      // Otherwise it would flicker right before the reload.\n      onFastRefresh(hasUpdates);\n    });\n  }\n} // Compilation with errors (e.g. syntax error or missing modules).\nfunction handleErrors(errors) {\n  clearOutdatedErrors();\n  isFirstCompilation = false;\n  hasCompileErrors = true; // \"Massage\" webpack messages.\n  var formatted = (0, _formatWebpackMessages[\"default\"])({\n    errors: errors,\n    warnings: []\n  }); // Only show the first error.\n  DevOverlay.onBuildError(formatted.errors[0]); // Also log them to the console.\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    for (var i = 0; i < formatted.errors.length; i++) {\n      console.error((0, _stripAnsi[\"default\"])(formatted.errors[i]));\n    }\n  } // Do not attempt to reload now.\n  // We will reload on next success instead.\n  if (process.env.__NEXT_TEST_MODE) {\n    if (self.__NEXT_HMR_CB) {\n      self.__NEXT_HMR_CB(formatted.errors[0]);\n      self.__NEXT_HMR_CB = null;\n    }\n  }\n}\nfunction onFastRefresh(hasUpdates) {\n  DevOverlay.onBuildOk();\n  if (hasUpdates) {\n    DevOverlay.onRefresh();\n  }\n  console.log('[Fast Refresh] done');\n} // There is a newer version of the code available.\nfunction handleAvailableHash(hash) {\n  // Update last known compilation hash.\n  mostRecentCompilationHash = hash;\n} // Handle messages from the server.\nfunction processMessage(e) {\n  var obj = JSON.parse(e.data);\n  switch (obj.action) {\n    case 'building':\n      {\n        console.log('[Fast Refresh] rebuilding');\n        break;\n      }\n    case 'built':\n    case 'sync':\n      {\n        if (obj.hash) {\n          handleAvailableHash(obj.hash);\n        }\n        var errors = obj.errors,\n          warnings = obj.warnings;\n        var hasErrors = Boolean(errors && errors.length);\n        if (hasErrors) {\n          return handleErrors(errors);\n        }\n        var hasWarnings = Boolean(warnings && warnings.length);\n        if (hasWarnings) {\n          return handleWarnings(warnings);\n        }\n        return handleSuccess();\n      }\n    default:\n      {\n        if (customHmrEventHandler) {\n          customHmrEventHandler(obj);\n          break;\n        }\n        break;\n      }\n  }\n} // Is there a newer version of this code available?\nfunction isUpdateAvailable() {\n  /* globals __webpack_hash__ */ // __webpack_hash__ is the hash of the current compilation.\n  // It's a global variable injected by Webpack.\n  return mostRecentCompilationHash !== __webpack_hash__;\n} // Webpack disallows updates in other states.\nfunction canApplyUpdates() {\n  return module.hot.status() === 'idle';\n}\nfunction afterApplyUpdates(fn) {\n  if (canApplyUpdates()) {\n    fn();\n  } else {\n    var handler = function handler(status) {\n      if (status === 'idle') {\n        module.hot.removeStatusHandler(handler);\n        fn();\n      }\n    };\n    module.hot.addStatusHandler(handler);\n  }\n} // Attempt to update code on the fly, fall back to a hard reload.\nfunction tryApplyUpdates(onHotUpdateSuccess) {\n  if (!module.hot) {\n    // HotModuleReplacementPlugin is not in Webpack configuration.\n    console.error('HotModuleReplacementPlugin is not in Webpack configuration.'); // window.location.reload();\n    return;\n  }\n  if (!isUpdateAvailable() || !canApplyUpdates()) {\n    return;\n  }\n  function handleApplyUpdates(err, updatedModules) {\n    if (err || hadRuntimeError || !updatedModules) {\n      if (err) {\n        console.warn('[Fast Refresh] performing full reload\\n\\n' + \"Fast Refresh will perform a full reload when you edit a file that's imported by modules outside of the React rendering tree.\\n\" + 'You might have a file which exports a React component but also exports a value that is imported by a non-React component file.\\n' + 'Consider migrating the non-React component export to a separate file and importing it into both files.\\n\\n' + 'It is also possible the parent component of the component you edited is a class component, which disables Fast Refresh.\\n' + 'Fast Refresh requires at least one parent function component in your React tree.');\n      } else if (hadRuntimeError) {\n        console.warn('[Fast Refresh] performing full reload because your application had an unrecoverable error');\n      }\n      window.location.reload();\n      return;\n    }\n    var hasUpdates = Boolean(updatedModules.length);\n    if (typeof onHotUpdateSuccess === 'function') {\n      // Maybe we want to do something.\n      onHotUpdateSuccess(hasUpdates);\n    }\n    if (isUpdateAvailable()) {\n      // While we were updating, there was a new update! Do it again.\n      tryApplyUpdates(hasUpdates ? undefined : onHotUpdateSuccess);\n    } else {\n      if (process.env.__NEXT_TEST_MODE) {\n        afterApplyUpdates(function () {\n          if (self.__NEXT_HMR_CB) {\n            self.__NEXT_HMR_CB();\n            self.__NEXT_HMR_CB = null;\n          }\n        });\n      }\n    }\n  } // https://webpack.js.org/api/hot-module-replacement/#check\n  module.hot.check( /* autoApply */true).then(function (updatedModules) {\n    handleApplyUpdates(null, updatedModules);\n  }, function (err) {\n    handleApplyUpdates(err, null);\n  });\n}","map":{"version":3,"sources":["../../../../client/dev/error-overlay/hot-dev-client.js"],"names":["hadRuntimeError","customHmrEventHandler","connect","options","DevOverlay","register","addMessageListener","event","data","processMessage","ex","console","warn","subscribeToHmrEvent","handler","onUnrecoverableError","isFirstCompilation","mostRecentCompilationHash","hasCompileErrors","clearOutdatedErrors","clear","handleSuccess","isHotUpdate","tryApplyUpdates","onSuccessfulHotUpdate","hasUpdates","onFastRefresh","handleWarnings","warnings","printWarnings","formatted","errors","i","length","handleErrors","onBuildError","error","process","env","__NEXT_TEST_MODE","self","__NEXT_HMR_CB","onBuildOk","onRefresh","log","handleAvailableHash","hash","e","obj","JSON","parse","action","hasErrors","Boolean","hasWarnings","isUpdateAvailable","__webpack_hash__","canApplyUpdates","module","hot","status","afterApplyUpdates","fn","removeStatusHandler","addStatusHandler","onHotUpdateSuccess","handleApplyUpdates","err","updatedModules","window","location","reload","undefined","check","then"],"mappings":"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","sourcesContent":["/**\n * MIT License\n *\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n// This file is a modified version of the Create React App HMR dev client that\n// can be found here:\n// https://github.com/facebook/create-react-app/blob/v3.4.1/packages/react-dev-utils/webpackHotDevClient.js\n\nimport * as DevOverlay from '@next/react-dev-overlay/lib/client'\nimport stripAnsi from 'next/dist/compiled/strip-ansi'\nimport { getEventSourceWrapper } from './eventsource'\nimport formatWebpackMessages from './format-webpack-messages'\n\n// This alternative WebpackDevServer combines the functionality of:\n// https://github.com/webpack/webpack-dev-server/blob/webpack-1/client/index.js\n// https://github.com/webpack/webpack/blob/webpack-1/hot/dev-server.js\n\n// It only supports their simplest configuration (hot updates on same server).\n// It makes some opinionated choices on top, like adding a syntax error overlay\n// that looks similar to our console output. The error overlay is inspired by:\n// https://github.com/glenjamin/webpack-hot-middleware\n\nlet hadRuntimeError = false\nlet customHmrEventHandler\nexport default function connect(options) {\n  DevOverlay.register()\n\n  getEventSourceWrapper(options).addMessageListener((event) => {\n    // This is the heartbeat event\n    if (event.data === '\\uD83D\\uDC93') {\n      return\n    }\n    try {\n      processMessage(event)\n    } catch (ex) {\n      console.warn('Invalid HMR message: ' + event.data + '\\n' + ex)\n    }\n  })\n\n  return {\n    subscribeToHmrEvent(handler) {\n      customHmrEventHandler = handler\n    },\n    onUnrecoverableError() {\n      hadRuntimeError = true\n    },\n  }\n}\n\n// Remember some state related to hot module replacement.\nvar isFirstCompilation = true\nvar mostRecentCompilationHash = null\nvar hasCompileErrors = false\n\nfunction clearOutdatedErrors() {\n  // Clean up outdated compile errors, if any.\n  if (typeof console !== 'undefined' && typeof console.clear === 'function') {\n    if (hasCompileErrors) {\n      console.clear()\n    }\n  }\n}\n\n// Successful compilation.\nfunction handleSuccess() {\n  clearOutdatedErrors()\n\n  const isHotUpdate = !isFirstCompilation\n  isFirstCompilation = false\n  hasCompileErrors = false\n\n  // Attempt to apply hot updates or reload.\n  if (isHotUpdate) {\n    tryApplyUpdates(function onSuccessfulHotUpdate(hasUpdates) {\n      // Only dismiss it when we're sure it's a hot update.\n      // Otherwise it would flicker right before the reload.\n      onFastRefresh(hasUpdates)\n    })\n  }\n}\n\n// Compilation with warnings (e.g. ESLint).\nfunction handleWarnings(warnings) {\n  clearOutdatedErrors()\n\n  const isHotUpdate = !isFirstCompilation\n  isFirstCompilation = false\n  hasCompileErrors = false\n\n  function printWarnings() {\n    // Print warnings to the console.\n    const formatted = formatWebpackMessages({\n      warnings: warnings,\n      errors: [],\n    })\n\n    if (typeof console !== 'undefined' && typeof console.warn === 'function') {\n      for (let i = 0; i < formatted.warnings.length; i++) {\n        if (i === 5) {\n          console.warn(\n            'There were more warnings in other files.\\n' +\n              'You can find a complete log in the terminal.'\n          )\n          break\n        }\n        console.warn(stripAnsi(formatted.warnings[i]))\n      }\n    }\n  }\n\n  printWarnings()\n\n  // Attempt to apply hot updates or reload.\n  if (isHotUpdate) {\n    tryApplyUpdates(function onSuccessfulHotUpdate(hasUpdates) {\n      // Only dismiss it when we're sure it's a hot update.\n      // Otherwise it would flicker right before the reload.\n      onFastRefresh(hasUpdates)\n    })\n  }\n}\n\n// Compilation with errors (e.g. syntax error or missing modules).\nfunction handleErrors(errors) {\n  clearOutdatedErrors()\n\n  isFirstCompilation = false\n  hasCompileErrors = true\n\n  // \"Massage\" webpack messages.\n  var formatted = formatWebpackMessages({\n    errors: errors,\n    warnings: [],\n  })\n\n  // Only show the first error.\n  DevOverlay.onBuildError(formatted.errors[0])\n\n  // Also log them to the console.\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    for (var i = 0; i < formatted.errors.length; i++) {\n      console.error(stripAnsi(formatted.errors[i]))\n    }\n  }\n\n  // Do not attempt to reload now.\n  // We will reload on next success instead.\n  if (process.env.__NEXT_TEST_MODE) {\n    if (self.__NEXT_HMR_CB) {\n      self.__NEXT_HMR_CB(formatted.errors[0])\n      self.__NEXT_HMR_CB = null\n    }\n  }\n}\n\nfunction onFastRefresh(hasUpdates) {\n  DevOverlay.onBuildOk()\n  if (hasUpdates) {\n    DevOverlay.onRefresh()\n  }\n\n  console.log('[Fast Refresh] done')\n}\n\n// There is a newer version of the code available.\nfunction handleAvailableHash(hash) {\n  // Update last known compilation hash.\n  mostRecentCompilationHash = hash\n}\n\n// Handle messages from the server.\nfunction processMessage(e) {\n  const obj = JSON.parse(e.data)\n  switch (obj.action) {\n    case 'building': {\n      console.log('[Fast Refresh] rebuilding')\n      break\n    }\n    case 'built':\n    case 'sync': {\n      if (obj.hash) {\n        handleAvailableHash(obj.hash)\n      }\n\n      const { errors, warnings } = obj\n      const hasErrors = Boolean(errors && errors.length)\n      if (hasErrors) {\n        return handleErrors(errors)\n      }\n\n      const hasWarnings = Boolean(warnings && warnings.length)\n      if (hasWarnings) {\n        return handleWarnings(warnings)\n      }\n\n      return handleSuccess()\n    }\n    default: {\n      if (customHmrEventHandler) {\n        customHmrEventHandler(obj)\n        break\n      }\n      break\n    }\n  }\n}\n\n// Is there a newer version of this code available?\nfunction isUpdateAvailable() {\n  /* globals __webpack_hash__ */\n  // __webpack_hash__ is the hash of the current compilation.\n  // It's a global variable injected by Webpack.\n  return mostRecentCompilationHash !== __webpack_hash__\n}\n\n// Webpack disallows updates in other states.\nfunction canApplyUpdates() {\n  return module.hot.status() === 'idle'\n}\nfunction afterApplyUpdates(fn) {\n  if (canApplyUpdates()) {\n    fn()\n  } else {\n    function handler(status) {\n      if (status === 'idle') {\n        module.hot.removeStatusHandler(handler)\n        fn()\n      }\n    }\n    module.hot.addStatusHandler(handler)\n  }\n}\n\n// Attempt to update code on the fly, fall back to a hard reload.\nfunction tryApplyUpdates(onHotUpdateSuccess) {\n  if (!module.hot) {\n    // HotModuleReplacementPlugin is not in Webpack configuration.\n    console.error('HotModuleReplacementPlugin is not in Webpack configuration.')\n    // window.location.reload();\n    return\n  }\n\n  if (!isUpdateAvailable() || !canApplyUpdates()) {\n    return\n  }\n\n  function handleApplyUpdates(err, updatedModules) {\n    if (err || hadRuntimeError || !updatedModules) {\n      if (err) {\n        console.warn(\n          '[Fast Refresh] performing full reload\\n\\n' +\n            \"Fast Refresh will perform a full reload when you edit a file that's imported by modules outside of the React rendering tree.\\n\" +\n            'You might have a file which exports a React component but also exports a value that is imported by a non-React component file.\\n' +\n            'Consider migrating the non-React component export to a separate file and importing it into both files.\\n\\n' +\n            'It is also possible the parent component of the component you edited is a class component, which disables Fast Refresh.\\n' +\n            'Fast Refresh requires at least one parent function component in your React tree.'\n        )\n      } else if (hadRuntimeError) {\n        console.warn(\n          '[Fast Refresh] performing full reload because your application had an unrecoverable error'\n        )\n      }\n      window.location.reload()\n      return\n    }\n\n    const hasUpdates = Boolean(updatedModules.length)\n    if (typeof onHotUpdateSuccess === 'function') {\n      // Maybe we want to do something.\n      onHotUpdateSuccess(hasUpdates)\n    }\n\n    if (isUpdateAvailable()) {\n      // While we were updating, there was a new update! Do it again.\n      tryApplyUpdates(hasUpdates ? undefined : onHotUpdateSuccess)\n    } else {\n      if (process.env.__NEXT_TEST_MODE) {\n        afterApplyUpdates(() => {\n          if (self.__NEXT_HMR_CB) {\n            self.__NEXT_HMR_CB()\n            self.__NEXT_HMR_CB = null\n          }\n        })\n      }\n    }\n  }\n\n  // https://webpack.js.org/api/hot-module-replacement/#check\n  module.hot.check(/* autoApply */ true).then(\n    (updatedModules) => {\n      handleApplyUpdates(null, updatedModules)\n    },\n    (err) => {\n      handleApplyUpdates(err, null)\n    }\n  )\n}\n"]},"metadata":{},"sourceType":"script"}