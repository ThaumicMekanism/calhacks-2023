{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"@babel/runtime/helpers/slicedToArray\");\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nexports.__esModule = true;\nexports[\"default\"] = void 0;\nvar _hotDevClient = _interopRequireDefault(require(\"./error-overlay/hot-dev-client\"));\nvar _default = function _default(_ref) {\n  var assetPrefix = _ref.assetPrefix;\n  var options = {\n    path: \"\".concat(assetPrefix, \"/_next/webpack-hmr\")\n  };\n  var devClient = (0, _hotDevClient[\"default\"])(options);\n  devClient.subscribeToHmrEvent(function (obj) {\n    if (obj.action === 'reloadPage') {\n      return window.location.reload();\n    }\n    if (obj.action === 'removedPage') {\n      var _obj$data = _slicedToArray(obj.data, 1),\n        page = _obj$data[0];\n      if (page === window.next.router.pathname) {\n        return window.location.reload();\n      }\n      return;\n    }\n    if (obj.action === 'addedPage') {\n      var _obj$data2 = _slicedToArray(obj.data, 1),\n        _page = _obj$data2[0];\n      if (_page === window.next.router.pathname && typeof window.next.router.components[_page] === 'undefined') {\n        return window.location.reload();\n      }\n      return;\n    }\n    throw new Error('Unexpected action ' + obj.action);\n  });\n  return devClient;\n};\nexports[\"default\"] = _default;","map":{"version":3,"sources":["../../../client/dev/webpack-hot-middleware-client.js"],"names":["assetPrefix","options","path","devClient","subscribeToHmrEvent","obj","action","window","location","reload","page","data","next","router","pathname","components","Error"],"mappings":";;;;;;AAAA,IAAA,aAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,gCAAA,CAAA,CAAA;eAEe,S,eAAqB;EAAA,IAAlBA,WAAH,GAAA,IAAA,CAAGA,WAAH;EACb,IAAMC,OAAO,GAAG;IACdC,IAAI,KAAA,MAAA,CAAKF,WAAY;EADP,CAAhB;EAIA,IAAMG,SAAS,GAAG,CAAA,CAAA,EAAA,aAAA,WAAA,EAAQF,OAAR,CAAlB;EAEAE,SAAS,CAACC,mBAAVD,CAA+BE,UAAAA,GAAD,EAAS;IACrC,IAAIA,GAAG,CAACC,MAAJD,KAAe,YAAnB,EAAiC;MAC/B,OAAOE,MAAM,CAACC,QAAPD,CAAgBE,MAAhBF,CAAAA,CAAP;IACD;IACD,IAAIF,GAAG,CAACC,MAAJD,KAAe,aAAnB,EAAkC;MAChC,IAAA,SAAA,GAAA,cAAA,CAAeA,GAAG,CAACM,IAAnB;QAAOD,IAAD,GAAA,SAAA;MACN,IAAIA,IAAI,KAAKH,MAAM,CAACK,IAAPL,CAAYM,MAAZN,CAAmBO,QAAhC,EAA0C;QACxC,OAAOP,MAAM,CAACC,QAAPD,CAAgBE,MAAhBF,CAAAA,CAAP;MACD;MACD;IACD;IACD,IAAIF,GAAG,CAACC,MAAJD,KAAe,WAAnB,EAAgC;MAC9B,IAAA,UAAA,GAAA,cAAA,CAAeA,GAAG,CAACM,IAAnB;QAAOD,KAAD,GAAA,UAAA;MACN,IACEA,KAAI,KAAKH,MAAM,CAACK,IAAPL,CAAYM,MAAZN,CAAmBO,QAA5BJ,IACA,OAAOH,MAAM,CAACK,IAAPL,CAAYM,MAAZN,CAAmBQ,UAAnBR,CAA8BG,KAA9BH,CAAP,KAA+C,WAFjD,EAGE;QACA,OAAOA,MAAM,CAACC,QAAPD,CAAgBE,MAAhBF,CAAAA,CAAP;MACD;MACD;IACD;IACD,MAAM,IAAIS,KAAJ,CAAU,oBAAA,GAAuBX,GAAG,CAACC,MAArC,CAAN;EACD,CAtBDH,CAAAA;EAwBA,OAAOA,SAAP;AACD,C","sourcesContent":["import connect from './error-overlay/hot-dev-client'\n\nexport default ({ assetPrefix }) => {\n  const options = {\n    path: `${assetPrefix}/_next/webpack-hmr`,\n  }\n\n  const devClient = connect(options)\n\n  devClient.subscribeToHmrEvent((obj) => {\n    if (obj.action === 'reloadPage') {\n      return window.location.reload()\n    }\n    if (obj.action === 'removedPage') {\n      const [page] = obj.data\n      if (page === window.next.router.pathname) {\n        return window.location.reload()\n      }\n      return\n    }\n    if (obj.action === 'addedPage') {\n      const [page] = obj.data\n      if (\n        page === window.next.router.pathname &&\n        typeof window.next.router.components[page] === 'undefined'\n      ) {\n        return window.location.reload()\n      }\n      return\n    }\n    throw new Error('Unexpected action ' + obj.action)\n  })\n\n  return devClient\n}\n"]},"metadata":{},"sourceType":"script"}