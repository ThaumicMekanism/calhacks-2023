{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nexports.__esModule = true;\nexports[\"default\"] = initializeBuildWatcher;\nvar _router = _interopRequireDefault(require(\"../router\"));\nfunction initializeBuildWatcher() {\n  var shadowHost = document.createElement('div');\n  shadowHost.id = '__next-prerender-indicator'; // Make sure container is fixed and on a high zIndex so it shows\n  shadowHost.style.position = 'fixed';\n  shadowHost.style.bottom = '20px';\n  shadowHost.style.right = '10px';\n  shadowHost.style.width = 0;\n  shadowHost.style.height = 0;\n  shadowHost.style.zIndex = 99998;\n  shadowHost.style.transition = 'all 100ms ease';\n  document.body.appendChild(shadowHost);\n  var shadowRoot;\n  var prefix = '';\n  if (shadowHost.attachShadow) {\n    shadowRoot = shadowHost.attachShadow({\n      mode: 'open'\n    });\n  } else {\n    // If attachShadow is undefined then the browser does not support\n    // the Shadow DOM, we need to prefix all the names so there\n    // will be no conflicts\n    shadowRoot = shadowHost;\n    prefix = '__next-prerender-indicator-';\n  } // Container\n  var container = createContainer(prefix);\n  shadowRoot.appendChild(container); // CSS\n  var css = createCss(prefix);\n  shadowRoot.appendChild(css);\n  var expandEl = container.querySelector('a');\n  var closeEl = container.querySelector(\"#\".concat(prefix, \"close\")); // State\n  var dismissKey = '__NEXT_DISMISS_PRERENDER_INDICATOR';\n  var dismissUntil = parseInt(window.localStorage.getItem(dismissKey), 10);\n  var dismissed = dismissUntil > new Date().getTime();\n  var isVisible = !dismissed && window.__NEXT_DATA__.nextExport;\n  function updateContainer() {\n    if (isVisible) {\n      container.classList.add(\"\".concat(prefix, \"visible\"));\n    } else {\n      container.classList.remove(\"\".concat(prefix, \"visible\"));\n    }\n  }\n  var expandedClass = \"\".concat(prefix, \"expanded\");\n  var toggleTimeout;\n  var toggleExpand = function toggleExpand() {\n    var expand = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    clearTimeout(toggleTimeout);\n    toggleTimeout = setTimeout(function () {\n      if (expand) {\n        expandEl.classList.add(expandedClass);\n        closeEl.style.display = 'flex';\n      } else {\n        expandEl.classList.remove(expandedClass);\n        closeEl.style.display = 'none';\n      }\n    }, 50);\n  };\n  closeEl.addEventListener('click', function () {\n    var oneHourAway = new Date().getTime() + 1 * 60 * 60 * 1000;\n    window.localStorage.setItem(dismissKey, oneHourAway + '');\n    isVisible = false;\n    updateContainer();\n  });\n  closeEl.addEventListener('mouseenter', function () {\n    return toggleExpand();\n  });\n  closeEl.addEventListener('mouseleave', function () {\n    return toggleExpand(false);\n  });\n  expandEl.addEventListener('mouseenter', function () {\n    return toggleExpand();\n  });\n  expandEl.addEventListener('mouseleave', function () {\n    return toggleExpand(false);\n  });\n  _router[\"default\"].events.on('routeChangeComplete', function () {\n    isVisible = window.next.isPrerendered;\n    updateContainer();\n  });\n  updateContainer();\n}\nfunction createContainer(prefix) {\n  var container = document.createElement('div');\n  container.id = \"\".concat(prefix, \"container\");\n  container.innerHTML = \"\\n    <button id=\\\"\".concat(prefix, \"close\\\" title=\\\"Hide indicator for session\\\">\\n      <span>\\xD7</span>\\n    </button>\\n    <a href=\\\"https://nextjs.org/docs/api-reference/next.config.js/static-optimization-indicator\\\" target=\\\"_blank\\\" rel=\\\"noreferrer\\\">\\n      <div id=\\\"\").concat(prefix, \"icon-wrapper\\\">\\n          <svg width=\\\"15\\\" height=\\\"20\\\" viewBox=\\\"0 0 60 80\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n          <path d=\\\"M36 3L30.74 41H8L36 3Z\\\" fill=\\\"black\\\"/>\\n          <path d=\\\"M25 77L30.26 39H53L25 77Z\\\" fill=\\\"black\\\"/>\\n          <path d=\\\"M13.5 33.5L53 39L47.5 46.5L7 41.25L13.5 33.5Z\\\" fill=\\\"black\\\"/>\\n          </svg>\\n          Prerendered Page\\n      </div>\\n    </a>\\n  \");\n  return container;\n}\nfunction createCss(prefix) {\n  var css = document.createElement('style');\n  css.textContent = \"\\n    #\".concat(prefix, \"container {\\n      position: absolute;\\n      display: none;\\n      bottom: 10px;\\n      right: 15px;\\n    }\\n\\n    #\").concat(prefix, \"close {\\n      top: -10px;\\n      right: -10px;\\n      border: none;\\n      width: 18px;\\n      height: 18px;\\n      color: #333333;\\n      font-size: 16px;\\n      cursor: pointer;\\n      display: none;\\n      position: absolute;\\n      background: #ffffff;\\n      border-radius: 100%;\\n      align-items: center;\\n      flex-direction: column;\\n      justify-content: center;\\n    }\\n\\n    #\").concat(prefix, \"container a {\\n      color: inherit;\\n      text-decoration: none;\\n      width: 15px;\\n      height: 23px;\\n      overflow: hidden;\\n\\n      border-radius: 3px;\\n      background: #fff;\\n      color: #000;\\n      font: initial;\\n      cursor: pointer;\\n      letter-spacing: initial;\\n      text-shadow: initial;\\n      text-transform: initial;\\n      visibility: initial;\\n      font-size: 14px;\\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\\n\\n      padding: 4px 2px;\\n      align-items: center;\\n      box-shadow: 0 11px 40px 0 rgba(0, 0, 0, 0.25), 0 2px 10px 0 rgba(0, 0, 0, 0.12);\\n\\n      display: flex;\\n      transition: opacity 0.1s ease, bottom 0.1s ease, width 0.3s ease;\\n      animation: \").concat(prefix, \"fade-in 0.1s ease-in-out;\\n    }\\n\\n    #\").concat(prefix, \"icon-wrapper {\\n      width: 140px;\\n      height: 20px;\\n      display: flex;\\n      flex-shrink: 0;\\n      align-items: center;\\n      position: relative;\\n    }\\n\\n    #\").concat(prefix, \"icon-wrapper svg {\\n      flex-shrink: 0;\\n      margin-right: 3px;\\n    }\\n\\n    #\").concat(prefix, \"container a.\").concat(prefix, \"expanded {\\n      width: 135px;\\n    }\\n\\n    #\").concat(prefix, \"container.\").concat(prefix, \"visible {\\n      display: flex;\\n      bottom: 10px;\\n      opacity: 1;\\n    }\\n\\n    @keyframes \").concat(prefix, \"fade-in {\\n      from {\\n        bottom: 0px;\\n        opacity: 0;\\n      }\\n      to {\\n        bottom: 10px;\\n        opacity: 1;\\n      }\\n    }\\n  \");\n  return css;\n}","map":{"version":3,"sources":["../../../client/dev/prerender-indicator.js"],"names":["initializeBuildWatcher","shadowHost","document","createElement","id","style","position","bottom","right","width","height","zIndex","transition","body","appendChild","shadowRoot","prefix","attachShadow","mode","container","createContainer","css","createCss","expandEl","querySelector","closeEl","dismissKey","dismissUntil","parseInt","window","localStorage","getItem","dismissed","Date","getTime","isVisible","__NEXT_DATA__","nextExport","updateContainer","classList","add","remove","expandedClass","toggleTimeout","toggleExpand","expand","clearTimeout","setTimeout","display","addEventListener","oneHourAway","setItem","Router","events","on","next","isPrerendered","innerHTML","textContent"],"mappings":"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","sourcesContent":["import Router from '../router'\n\nexport default function initializeBuildWatcher() {\n  const shadowHost = document.createElement('div')\n  shadowHost.id = '__next-prerender-indicator'\n  // Make sure container is fixed and on a high zIndex so it shows\n  shadowHost.style.position = 'fixed'\n  shadowHost.style.bottom = '20px'\n  shadowHost.style.right = '10px'\n  shadowHost.style.width = 0\n  shadowHost.style.height = 0\n  shadowHost.style.zIndex = 99998\n  shadowHost.style.transition = 'all 100ms ease'\n\n  document.body.appendChild(shadowHost)\n\n  let shadowRoot\n  let prefix = ''\n\n  if (shadowHost.attachShadow) {\n    shadowRoot = shadowHost.attachShadow({ mode: 'open' })\n  } else {\n    // If attachShadow is undefined then the browser does not support\n    // the Shadow DOM, we need to prefix all the names so there\n    // will be no conflicts\n    shadowRoot = shadowHost\n    prefix = '__next-prerender-indicator-'\n  }\n\n  // Container\n  const container = createContainer(prefix)\n  shadowRoot.appendChild(container)\n\n  // CSS\n  const css = createCss(prefix)\n  shadowRoot.appendChild(css)\n\n  const expandEl = container.querySelector('a')\n  const closeEl = container.querySelector(`#${prefix}close`)\n\n  // State\n  const dismissKey = '__NEXT_DISMISS_PRERENDER_INDICATOR'\n  const dismissUntil = parseInt(window.localStorage.getItem(dismissKey), 10)\n  const dismissed = dismissUntil > new Date().getTime()\n\n  let isVisible = !dismissed && window.__NEXT_DATA__.nextExport\n\n  function updateContainer() {\n    if (isVisible) {\n      container.classList.add(`${prefix}visible`)\n    } else {\n      container.classList.remove(`${prefix}visible`)\n    }\n  }\n  const expandedClass = `${prefix}expanded`\n  let toggleTimeout\n\n  const toggleExpand = (expand = true) => {\n    clearTimeout(toggleTimeout)\n\n    toggleTimeout = setTimeout(() => {\n      if (expand) {\n        expandEl.classList.add(expandedClass)\n        closeEl.style.display = 'flex'\n      } else {\n        expandEl.classList.remove(expandedClass)\n        closeEl.style.display = 'none'\n      }\n    }, 50)\n  }\n\n  closeEl.addEventListener('click', () => {\n    const oneHourAway = new Date().getTime() + 1 * 60 * 60 * 1000\n    window.localStorage.setItem(dismissKey, oneHourAway + '')\n    isVisible = false\n    updateContainer()\n  })\n  closeEl.addEventListener('mouseenter', () => toggleExpand())\n  closeEl.addEventListener('mouseleave', () => toggleExpand(false))\n  expandEl.addEventListener('mouseenter', () => toggleExpand())\n  expandEl.addEventListener('mouseleave', () => toggleExpand(false))\n\n  Router.events.on('routeChangeComplete', () => {\n    isVisible = window.next.isPrerendered\n    updateContainer()\n  })\n  updateContainer()\n}\n\nfunction createContainer(prefix) {\n  const container = document.createElement('div')\n  container.id = `${prefix}container`\n  container.innerHTML = `\n    <button id=\"${prefix}close\" title=\"Hide indicator for session\">\n      <span>×</span>\n    </button>\n    <a href=\"https://nextjs.org/docs/api-reference/next.config.js/static-optimization-indicator\" target=\"_blank\" rel=\"noreferrer\">\n      <div id=\"${prefix}icon-wrapper\">\n          <svg width=\"15\" height=\"20\" viewBox=\"0 0 60 80\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M36 3L30.74 41H8L36 3Z\" fill=\"black\"/>\n          <path d=\"M25 77L30.26 39H53L25 77Z\" fill=\"black\"/>\n          <path d=\"M13.5 33.5L53 39L47.5 46.5L7 41.25L13.5 33.5Z\" fill=\"black\"/>\n          </svg>\n          Prerendered Page\n      </div>\n    </a>\n  `\n  return container\n}\n\nfunction createCss(prefix) {\n  const css = document.createElement('style')\n  css.textContent = `\n    #${prefix}container {\n      position: absolute;\n      display: none;\n      bottom: 10px;\n      right: 15px;\n    }\n\n    #${prefix}close {\n      top: -10px;\n      right: -10px;\n      border: none;\n      width: 18px;\n      height: 18px;\n      color: #333333;\n      font-size: 16px;\n      cursor: pointer;\n      display: none;\n      position: absolute;\n      background: #ffffff;\n      border-radius: 100%;\n      align-items: center;\n      flex-direction: column;\n      justify-content: center;\n    }\n\n    #${prefix}container a {\n      color: inherit;\n      text-decoration: none;\n      width: 15px;\n      height: 23px;\n      overflow: hidden;\n\n      border-radius: 3px;\n      background: #fff;\n      color: #000;\n      font: initial;\n      cursor: pointer;\n      letter-spacing: initial;\n      text-shadow: initial;\n      text-transform: initial;\n      visibility: initial;\n      font-size: 14px;\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n\n      padding: 4px 2px;\n      align-items: center;\n      box-shadow: 0 11px 40px 0 rgba(0, 0, 0, 0.25), 0 2px 10px 0 rgba(0, 0, 0, 0.12);\n\n      display: flex;\n      transition: opacity 0.1s ease, bottom 0.1s ease, width 0.3s ease;\n      animation: ${prefix}fade-in 0.1s ease-in-out;\n    }\n\n    #${prefix}icon-wrapper {\n      width: 140px;\n      height: 20px;\n      display: flex;\n      flex-shrink: 0;\n      align-items: center;\n      position: relative;\n    }\n\n    #${prefix}icon-wrapper svg {\n      flex-shrink: 0;\n      margin-right: 3px;\n    }\n\n    #${prefix}container a.${prefix}expanded {\n      width: 135px;\n    }\n\n    #${prefix}container.${prefix}visible {\n      display: flex;\n      bottom: 10px;\n      opacity: 1;\n    }\n\n    @keyframes ${prefix}fade-in {\n      from {\n        bottom: 0px;\n        opacity: 0;\n      }\n      to {\n        bottom: 10px;\n        opacity: 1;\n      }\n    }\n  `\n\n  return css\n}\n"]},"metadata":{},"sourceType":"script"}